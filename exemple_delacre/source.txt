void main() {
    uint x = gl_GlobalInvocationID.x;
    uint y = gl_GlobalInvocationID.y;
    uint p = x + y * WSX;
    
    // Coordonnées normalisées centrées
    float fx = float(x) / WSX * 2.0 - 1.0;
    float fy = float(y) / WSY * 2.0 - 1.0;
    float radius = sqrt(fx * fx + fy * fy); // Distance au centre (0 au centre, ~1 sur les bords)

    // Transparence totale si en dehors du cercle
    float mask = smoothstep(1.0, 0.8, radius); // Transition douce vers transparent
    int alpha = int(mask * 255.0) << 24;

    // Couleurs (explosion sombre)
    int blue = int(mask * 0x55) << 16;
    int green = int(mask * 0x33) << 8;
    int red = int(mask * 0x22);
    
    // Appliquer transparence
    data_0[p] = alpha + blue + green + red;
}